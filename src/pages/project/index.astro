---
import Layout from "@layouts/Layout.astro";
import { getCollection } from "astro:content";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@components/ui/badge";
import { Button } from "@components/ui/button";

const projects = await getCollection("project");
---

<Layout title="Projects - Nisarg Bhatt">
  <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-4 py-2 px-2">
    {
      projects.map((project) => (
        <Card className="animate-on-scroll delay-100 hover-lift">
          <CardHeader>
            <CardTitle>{project?.data?.title}</CardTitle>
            <CardDescription>{project?.data?.short_description}</CardDescription>
          </CardHeader>
          <CardContent>
            <div class="flex flex-wrap gap-1">
              {project?.data?.keywords?.map((keyword) => (
                <Badge variant="outline" key={keyword} className="capitalize">
                  {keyword}
                </Badge>
              ))}
            </div>
          </CardContent>
          <CardFooter>
            <a href={`/project/${project.id}`}>
              <Button variant="outline" size="sm" className="w-full">
                View Project
              </Button>
            </a>
          </CardFooter>
        </Card>
      ))
    }
  </div>
</Layout>
